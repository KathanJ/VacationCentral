{% extends 'base.html' %}

{% block title %}
    Profile
{% endblock %}

{% block content %}
    <div style="display: flex;">
        <div class="col mx-auto justify-content-center" style="flex: 1 1 30%;">
            <aside>
                <div class="card mb-4 mt-3 mx-3" data-bs-theme="dark" style="border-color: var(--primary-light); height: calc(94vh - 56px);">
                    <div class="card-body pt-0 px-0 pb-0 rounded" style="display: flex; flex-direction: column; background-color: var(--primary-dark);">
                        <div class="mx-auto justify-content-center align-content-center rounded" style="flex: 1 1 45%; background: linear-gradient(var(--primary-orange) 50%, var(--primary-dark) 50%)">
                            <div class="container-fluid rounded-circle px-0 mt-5" style="width: 35%; border: 2px solid var(--primary-light);">
                                {% if user.profile_pic %}
                                    <img src="{{ url_for('static', path=user.profile_pic) }}" style="background-color: var(--secondary-dark); min-height: 100%; min-width: 100%; object-fit: contain;" class="img-fluid rounded-circle" alt="Profile Picture">
                                {% else %}
                                    <img src="{{ url_for('static', path='img/vclogo-white.svg') }}" style="background-color: var(--secondary-dark); min-height: 100%; min-width: 100%; object-fit: contain;" class="img-fluid rounded-circle" alt="Profile Picture">
                                {% endif %}
                            </div>
                            <div class="container-fluid px-0 text-center mt-1">
                                <!-- <p class="card-text" style="display:inline; font-family: var(--primary-font-family); font-weight: var(--font-weight-bold); color: var(--secondary-light); font-size: x-large; font-optical-sizing: auto;">{{ user.username }}</p> -->
                                <p class="card-text" style="display:inline; font-family: var(--primary-font-family); font-weight: var(--font-weight-bold); color: var(--secondary-light); font-size: x-large; font-optical-sizing: auto;">{{ username }}</p>
                            </div>
                            <div class="container-fluid px-0 text-center">
                                <p class="card-text" style="display:inline; font-family: var(--primary-font-family); font-weight: var(--font-weight-bold); color: var(--secondary-light); font-size: large; font-optical-sizing: auto;">{{ user.name }}</p>
                            </div>
                        </div>
                        <div class="mx-auto justify-content-center align-items-center" style="flex: 1 1 45%; width: 100%; background-color: var(--extra-dark); border-top: 1px solid var(--primary-light); border-bottom: 1px solid var(--primary-light);">
                            <div class="card-body pt-0 px-0 pb-0 rounded" style="display: flex; flex-direction: column;">
                                <div class="mt-3 mx-auto" style="flex: 1 1 40%; width: 100%;">
                                    <div class="container-fluid px-3" style="display: flex;">
                                        <h6 class="card-text mb-0" style="flex: 1 1 95%; display:inline; font-family: var(--primary-font-family); font-weight: var(--font-weight-medium); color: var(--secondary-light); font-size: large; font-optical-sizing: auto;">Bio:</h6>
                                        <a href="#" class="hlink-footer-custom mb-0 text-center" style="flex: 1 1 5%; display:inline; font-family: var(--primary-font-family); font-weight: var(--font-weight-medium); color: var(--secondary-light); font-size: large; font-optical-sizing: auto;"><i class="bi bi-pencil-square"></i></a> 
                                    </div>
                                    <div class="container-fluid px-3 mt-1">
                                        <p class="card-text mb-0" style="flex: 1 1 95%; font-family: var(--primary-font-family); font-weight: var(--font-weight-bold); color: var(--primary-light); font-size: medium; font-optical-sizing: auto;">{{ user.bio }}</p>
                                    </div>
                                </div>
                                <hr class="mb-0 mx-3 mt-3" style="border: 2px solid; border-color: var(--primary-light);">
                                <div class="mt-3 mb-3 mx-auto" style="flex: 1 1 60%; width: 100%;">
                                    <div class="container-fluid px-3" style="display: grid; grid-auto-columns: minmax(0, 1fr); gap: 3em;">
                                        <div class="container-fluid" style="grid-row: 1; grid-column: 1;">
                                            <p class="card-text mb-0" style="flex: 1 1 95%; font-family: var(--primary-font-family); font-weight: var(--font-weight-bold); color: var(--primary-light); font-size: large; font-optical-sizing: auto;">{{ user.post_count }}</p>
                                            <h6 class="card-text mb-0" style="flex: 1 1 95%; font-family: var(--primary-font-family); font-weight: var(--font-weight-medium); color: var(--secondary-light); font-size: large; font-optical-sizing: auto;">Posts</h6>
                                        </div>
                                        <div class="container-fluid" style="grid-row: 1; grid-column: 2;">
                                            <p class="card-text mb-0" style="flex: 1 1 95%; font-family: var(--primary-font-family); font-weight: var(--font-weight-bold); color: var(--primary-light); font-size: large; font-optical-sizing: auto;">{{ user.birthdate }}</p>
                                            <h6 class="card-text mb-0" style="flex: 1 1 95%; font-family: var(--primary-font-family); font-weight: var(--font-weight-medium); color: var(--secondary-light); font-size: large; font-optical-sizing: auto;">B'day</h6>
                                        </div>
                                        <div class="container-fluid" style="grid-row: 2; grid-column: 1;">
                                            <p class="card-text mb-0" style="flex: 1 1 95%; font-family: var(--primary-font-family); font-weight: var(--font-weight-bold); color: var(--primary-light); font-size: large; font-optical-sizing: auto;">{{ user.points }}</p>
                                            <h6 class="card-text mb-0" style="flex: 1 1 95%; font-family: var(--primary-font-family); font-weight: var(--font-weight-medium); color: var(--secondary-light); font-size: large; font-optical-sizing: auto;">Points</h6>
                                        </div>
                                        <div class="container-fluid" style="grid-row: 2; grid-column: 2;">
                                            <p class="card-text mb-0" style="flex: 1 1 95%; font-family: var(--primary-font-family); font-weight: var(--font-weight-bold); color: var(--primary-light); font-size: large; font-optical-sizing: auto;">{{ user.location }}</p>
                                            <h6 class="card-text mb-0" style="flex: 1 1 95%; font-family: var(--primary-font-family); font-weight: var(--font-weight-medium); color: var(--secondary-light); font-size: large; font-optical-sizing: auto;">Location</h6>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="mx-auto text-center align-content-center" style="flex: 1 1 10%; width: 100%;">
                            <button class="btn btn-orange-custom ms-4" data-bs-toggle="modal" data-bs-target="#editprofilemodal"><i class="bi bi-pencil-square"></i>&nbsp;&nbsp;Edit Profile</button>
                        </div>
                        <div class="modal fade" id="editprofilemodal" tabindex="-1" aria-labelledby="editprofilemodallabel" aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false">
                            <div class="modal-dialog modal-lg modal-dialog-centered">
                                <div class="modal-content"  style="border: 2px solid var(--primary-orange);">
                                    <div class="modal-header" style="border-bottom: 2px solid var(--primary-orange);">
                                        <h1 class="modal-title fs-5" id="editprofilemodallabel" style="font-family: var(--secondary-font-family); font-weight: var(--font-weight-medium); color: var(--secondary-light);">Edit Profile</h1>
                                        <button type="button" class="btn-close hlink-footer-custom" data-bs-dismiss="modal" aria-label="Close"></button>
                                    </div>
                                    <div class="modal-body">
                                        <label for="profilepicinput mb-3" class="form-label" style="width: 100%;">
                                        <div class="container-fluid rounded-circle px-0 mb-0" style="width: 15%; border: 2px solid var(--primary-light); cursor: pointer;">
                                            {% if user.profile_pic %}
                                                <img src="{{ url_for('static', path=user.profile_pic) }}" style="background-color: var(--secondary-dark); min-height: 100%; min-width: 100%; object-fit: contain;" class="img-fluid rounded-circle" alt="Profile Picture">
                                            {% else %}
                                                <img src="{{ url_for('static', path='img/vclogo-white.svg') }}" style="background-color: var(--secondary-dark); min-height: 100%; min-width: 100%; object-fit: contain;" class="img-fluid rounded-circle" alt="Profile Picture">
                                            {% endif %}
                                            <i class="bi bi-pencil-square hlink-footer-custom text-center" style="position: absolute; top: 100px; right: 340px; font-family: var(--primary-font-family); font-weight: var(--font-weight-medium); color: var(--secondary-light); font-size: x-large; font-optical-sizing: auto;"></i>
                                        </div>
                                        </label>
                                        <form action="{{ url_for('get_profile', username='KathanJani2803', tab='posts') }}" method="GET" data-bs-theme="light">
                                            <input type="file" class="form-control form-input-custom mt-3 input-text-custom" id="profilepicinput" placeholder="Profile Pic" name="profilepic" style="height: 0 !important; width: 0 !important; opacity: 0% !important;">
                                            <div class="mb-3" style="display: flex;">
                                                <input type="text" class="form-control form-input-custom me-3 input-text-custom" id="usernameinput" aria-describedby="usernameHelp" placeholder="Username" name="username" value="{{ username }}"> <!-- !!!!!!!!!! Change to user.username !!!!!!!!!!! -->
                                                <input type="text" class="form-control form-input-custom ms-3 input-text-custom" id="fullnameinput" aria-describedby="fullnameHelp" placeholder="Full Name" name="fullname" value="{{ user.name }}">
                                            </div>
                                            <div class="mb-3" style="display: flex;">
                                                <input type="email" class="form-control form-input-custom me-3 input-text-custom" id="emailidinput" aria-describedby="emailHelp" placeholder="Email ID" name="email" value="{{ user.emailid }}">

                                                <input type="number" class="form-control form-input-custom ms-3 input-text-custom" id="contactnoinput" placeholder="Contact No" name="contact"  value="{{ user.contactno }}">
                                            </div>
                                            <div class="mb-3" style="display: flex;">
                                                <textarea class="form-control form-input-custom me-3 input-text-custom" style="flex: 1 1 50%;" id="addressinput" rows="3" cols="3" placeholder="{{ user.location }}" name="address"></textarea>
                        
                                                <div class="ms-3" style="flex: 1 1 50%;">
                                                    <select class="form-control form-input-custom mb-3 input-text-custom" id="regioninput" name="region">
                                                        <option value="region" disabled>Region</option>
                                                        {% if user.region == 'North America' %}
                                                            <option value="north america" selected>North America</option>
                                                        {% else %}
                                                            <option value="north america">North America</option>
                                                        {% endif %}
                                                        {% if user.region == 'South America' %}
                                                            <option value="south america" selected>South America</option>
                                                        {% else %}
                                                            <option value="south america">South America</option>
                                                        {% endif %}
                                                        {% if user.region == 'Europe' %}
                                                            <option value="europe" selected>Europe</option>
                                                        {% else %}
                                                            <option value="europe">Europe</option>
                                                        {% endif %}
                                                        {% if user.region == 'Asia' %}
                                                            <option value="asia" selected>Asia</option>
                                                        {% else %}
                                                            <option value="asia">Asia</option>
                                                        {% endif %}
                                                        {% if user.region == 'Africa' %}
                                                            <option value="africa" selected>Africa</option>
                                                        {% else %}
                                                            <option value="africa">Africa</option>
                                                        {% endif %}
                                                        {% if user.region == 'Australia' %}
                                                            <option value="australia" selected>Australia</option>
                                                        {% else %}
                                                            <option value="australia">Australia</option>
                                                        {% endif %}
                                                    </select>

                                                    <input type="file" class="form-control form-input-custom mt-3 input-text-custom" id="aadharcardinput" placeholder="Aadhar Card" name="aadharcard">
                                                </div>
                                            </div>
                                            <div class="mb-3" style="display: flex;">
                                                <input type="date" class="form-control form-input-custom me-3 input-text-custom" id="dobinput" placeholder="Date of Birth" name="dob" value="{{ user.dob }}">
                        
                                                <select class="form-control form-input-custom ms-3 input-text-custom" id="sexinput" name="sex" style="height: min-content">
                                                    <option value="gender" disabled>Gender</option>
                                                    {% if user.gender == 'Male' %}
                                                        <option value="male" selected>Male</option>
                                                    {% else %}
                                                        <option value="male">Male</option>
                                                    {% endif %}
                                                    {% if user.gender == 'Female' %}
                                                        <option value="female" selected>Female</option>
                                                    {% else %}
                                                        <option value="female">Female</option>
                                                    {% endif %}
                                                    {% if user.gender == 'Other' %}
                                                        <option value="other" selected>Other</option>
                                                    {% else %}
                                                        <option value="other">Other</option>
                                                    {% endif %}
                                                    {% if user.gender == 'Unspecified' %}
                                                        <option value="unspecified" selected>Rather Not Say</option>
                                                    {% else %}
                                                        <option value="unspecified">Rather Not Say</option>
                                                    {% endif %}
                                                </select>
                                            </div>
                                            <div class="mb-3" style="display: flex;">
                                                <input type="password" class="form-control form-input-custom me-3 input-text-custom" id="passwordinput" placeholder="Password" name="password">
                                                <input type="password" class="form-control form-input-custom ms-3 input-text-custom" id="confirmpasswordinput" placeholder="Confirm Password" name="confirmpassword">
                                            </div>
                                            <div class="container-fluid px-0 mt-4" style="display: flex;">
                                                <!-- <button type="button" class="btn btn-orange-custom me-3" data-bs-dismiss="modal" style="flex: 1 1 50%; background-color: red !important;">Cancel</button> -->
                                                <button type="submit" class="btn btn-orange-custom mx-5" style="flex: 1 1 50%;">Update</button>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                          </div>
                    </div>
                </div>
            </aside>
        </div>
        <div class="col mx-auto justify-content-center align-items-center" style="flex: 1 1 70%;">
            <div class="card mb-4 mt-3 mx-3" style="border: 1px solid var(--primary-light);" data-bs-theme="dark">
                <div class="row g-0">
                    <div class="col-md-1 ms-5 align-self-center">
                        {% if user.profile_pic %}
                            <img src="{{ url_for('static', path='img/generic_pfp.png') }}" style="background-color: var(--secondary-dark)" class="img-fluid rounded-circle" alt="Profile Picture">
                        {% else %}
                            <img src="{{ url_for('static', path='img/vclogo-white.svg') }}" style="background-color: var(--secondary-dark)" class="img-fluid rounded-circle" alt="Profile Picture">
                        {% endif %}
                    </div>
                    <div class="col-md-10 ms-3">
                        <div class="card-body">
                            <form class="d-flex me-3" role="quick post" style="display: inline;" id="quickpostform">
                                <input type="text" class="form-control search-input-text-custom me-auto align-self-center form-input-custom" id="quickpostbar" placeholder="What's on your mind today?" aria-label="Quick Post" aria-describedby="quickpostbtn" style="border: none; background-color: var(--secondary-dark); font-family: var(--primary-font-family); font-weight: var(--font-weight-light); color: var(--primary-light); font-optical-sizing: auto;">
                                <button class="btn btn-orange-custom ms-4 align-self-center" style="width: 15%;" id="quickpostbtn" type="submit"><i class="bi bi-send-fill"></i>&nbsp;&nbsp;Post</button>
                            </form>
                            <div class="container-fluid px-0 mx-0">
                                <a class="btn btn-sm badge-custom mx-1 px-2 mt-3 mb-1"><i class="bi bi-emoji-laughing"></i>&nbsp;&nbsp;&nbsp;Emojis</a>
                                <a class="btn btn-sm badge-custom mx-1 px-2 mt-3 mb-1"><i class="bi bi-images"></i>&nbsp;&nbsp;&nbsp;Attach Image(s)</a>
                                <a class="btn btn-sm badge-custom mx-1 px-2 mt-3 mb-1"><img src="{{ url_for('static', path='img/gif_icon_light.svg') }}" height="19" width="19"></i>&nbsp;&nbsp;&nbsp;Attach GIF(s)</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <ul class="nav nav-pills nav-justified mx-3 mb-1">
                {% if tab == 'posts' %}
                    <li class="nav-item mx-1">
                        <a class="nav-link rounded-pill tab-custom active" aria-current="page" href="#"><i class="bi bi-card-image"></i>&nbsp;&nbsp;My Posts</a>
                    </li>
                {% else %}
                    <li class="nav-item mx-1">
                        <a class="nav-link rounded-pill tab-custom" aria-current="page" href="{{ url_for('get_profile', username=username, tab='posts') }}"><i class="bi bi-card-image"></i>&nbsp;&nbsp;My Posts</a>
                    </li>
                {% endif %}
                {% if tab == 'diaries' %}
                    <li class="nav-item mx-1">
                        <a class="nav-link rounded-pill tab-custom active" href="#"><i class="bi bi-book-fill"></i>&nbsp;&nbsp;My Diaries</a>
                    </li>
                {% else %}
                    <li class="nav-item mx-1">
                        <a class="nav-link rounded-pill tab-custom" href="{{ url_for('get_profile', username=username, tab='diaries') }}"><i class="bi bi-book-fill"></i>&nbsp;&nbsp;My Diaries</a>
                    </li>
                {% endif %}
                {% if tab == 'tipstricks' %}
                    <li class="nav-item mx-1">
                        <a class="nav-link rounded-pill tab-custom active" href="#"><i class="bi bi-lightbulb-fill"></i>&nbsp;&nbsp;My Tips & Tricks</a>
                    </li>
                {% else %}
                    <li class="nav-item mx-1">
                        <a class="nav-link rounded-pill tab-custom" href="{{ url_for('get_profile', username=username, tab='tipstricks') }}"><i class="bi bi-lightbulb-fill"></i>&nbsp;&nbsp;My Tips & Tricks</a>
                    </li>
                {% endif %}
                {% if tab == 'progress' %}
                    <li class="nav-item mx-1">
                        <a class="nav-link rounded-pill tab-custom active" href="#"><i class="bi bi-graph-up-arrow"></i>&nbsp;&nbsp;My Progress</a>
                    </li>
                {% else %}
                    <li class="nav-item mx-1">
                        <a class="nav-link rounded-pill tab-custom" href="{{ url_for('get_profile', username=username, tab='progress') }}"><i class="bi bi-graph-up-arrow"></i>&nbsp;&nbsp;My Progress</a>
                    </li>
                {% endif %}
              </ul>
              <hr class="mb-3 mx-3 mt-0" style="border: 2px solid; border-color: var(--primary-light);">
            {% for post in user.posts %}
                {% if post.user == username %} <!-- !!!!!!!!!! Change to user.username !!!!!!!!!!! -->

                    <!-- <div class="card mb-2 mx-3 card-post-custom" data-bs-theme="dark">
                        <div class="row g-0">
                            <div class="col-md-3">
                                <img src="{{ url_for('static', path=post.img) }}" class="img-fluid rounded-start" alt="Post Image" style="min-height: 100%; min-width: 100%; object-fit: cover;">
                            </div>
                            <div class="col-md-8 ms-4" style="display: flex;">
                                <div class="card-body" style="flex: 1 1 90;">
                                    <a class="nav-link mb-3" href="#"><h4 class="card-title">{{ post.title }}</h4></a>
                                    {% for tag in post.tags %}
                                        <a class="btn btn-sm badge badge-custom me-1 mb-2">{{ tag }}</a>
                                    {% endfor %}
                                    {% if post.desc|length > 30 %}
                                        <p class="card-text">{{ post.desc[0:30] }}...</p>
                                    {% else %}
                                        <p class="card-text">{{ post.desc }}</p>
                                    {% endif %}
                                    <a href="#" class="nav-link mt-4" style="display: flex;">
                                        {% if post.user %}
                                            <img src="{{ url_for('static', path='img/generic_pfp.png') }}" height="50" width ="50" style="flex: 1 1 50; background-color: var(--secondary-dark)" class="rounded-circle" alt="Profile Picture">
                                        {% else %}
                                            <img src="{{ url_for('static', path='img/vclogo-white.svg') }}" height="50" width ="50" style="flex: 1 1 50; background-color: var(--secondary-dark)" class="rounded-circle" alt="Profile Picture">
                                        {% endif %}
                                        <div class="container-fluid" style="flex: 1 1 50;">
                                            <p style="display:inline; font-family: var(--primary-font-family); font-weight: var(--font-weight-semi-bold); color: var(--primary-light); font-size: large; font-optical-sizing: auto;">{{ post.user }}</p>
                                            <p class="card-text"><small class="text-body-secondary">{{ post.posted_at }}</small></p>
                                        </div>
                                    </a>
                                </div>
                                <a class="btn btn-sm btn-interaction-custom ms-5 me-1 text-light align-self-center" style="flex: 1 1 10;" href="#"><i class="bi bi-heart-fill"></i></a>
                                <button type="button" class="btn btn-sm btn-interaction-custom rounded ms-5 me-1 align-self-center" style="flex: 1 1 10;"><i class="bi bi-heart-fill"></i></button>
                            </div>
                        </div>
                    </div> -->
                    <!-- <a href="#" style="text-decoration: none;"> -->
                    <div class="card mb-2 mx-3 card-post-custom" data-bs-theme="dark">
                        <div class="row g-0">
                            <div class="col-md-12" style="display: flex; flex-direction: column;">
                                <div class="card-header px-4" style="flex: 1 1 30;">
                                    <div class="dropdown" data-bs-theme="dark" style="position: absolute; top: 10px; right: 10px;">
                                        <button type="button" class="btn btn-sm btn-three-dots-custom rounded me-1 align-self-center dropdown" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi bi-three-dots"></i></button>
                                        <ul class="dropdown-menu dropdown-menu-end dropdown-menu-secondary mt-2">
                                            <li><a class="dropdown-item dropdown-item-secondary" href="#"><i class="bi bi-bookmark"></i>&nbsp;&nbsp;Save</a></li>
                                            <li><hr class="dropdown-divider dropdown-divider-secondary"></li>
                                            <li><a class="dropdown-item dropdown-item-secondary" href="#"><i class="bi bi-eye-slash"></i>&nbsp;&nbsp;Hide</a></li>
                                            <li><hr class="dropdown-divider dropdown-divider-secondary"></li>
                                            <li><a class="dropdown-item dropdown-item-secondary" href="#"><i class="bi bi-flag"></i>&nbsp;&nbsp;Report</a></li>
                                        </ul>
                                    </div>
                                    <div class="container-fluid px-0"  style="display: inline; width: 100%;">
                                        <a href="{{ url_for('get_profile', username=username, tab='posts') }}" class="nav-link hlink-text-custom" style="display: inline;">
                                            {% if post.user %}
                                                <img src="{{ url_for('static', path='img/generic_pfp.png') }}" height="20" width ="20" style="background-color: var(--secondary-dark)" class="rounded-circle" alt="Profile Picture">
                                            {% else %}
                                                <img src="{{ url_for('static', path='img/vclogo-white.svg') }}" height="20" width ="20" style="background-color: var(--secondary-dark)" class="rounded-circle" alt="Profile Picture">
                                            {% endif %}
                                            <p style="display:inline; font-family: var(--primary-font-family); font-weight: var(--font-weight-semi-bold); font-size: small; font-optical-sizing: auto;">{{ post.user }}</p>
                                        </a>
                                        &nbsp;&nbsp;<i class="bi bi-circle-fill" style="font-size: 0.25rem; vertical-align: 50%;"></i>&nbsp;&nbsp;
                                        <a href="#" class="nav-link hlink-text-custom" style="display: inline;">
                                            {% if post.community.img %}
                                                <img src="{{ url_for('static', path=post.community.img) }}" height="20" width ="20" style="background-color: var(--secondary-dark)" class="rounded-circle" alt="Community Image">
                                            {% else %}
                                                <img src="{{ url_for('static', path='img/vclogo-white.svg') }}" height="20" width ="20" style="background-color: var(--secondary-dark)" class="rounded-circle" alt="Community Image">
                                            {% endif %}
                                            <p style="display:inline; font-family: var(--primary-font-family); font-weight: var(--font-weight-semi-bold); font-size: small; font-optical-sizing: auto;">{{ post.community.name }}</p>
                                        </a>
                                        &nbsp;&nbsp;<i class="bi bi-circle-fill" style="font-size: 0.25rem; vertical-align: 50%;"></i>&nbsp;&nbsp;
                                        <div class="container-fluid px-0" style="display: inline;">
                                            <p class="card-text" style="display:inline; font-family: var(--primary-font-family); font-weight: var(--font-weight-semi-bold); color: var(--secondary-light); font-size: small; font-optical-sizing: auto;">{{ post.posted_at }}</p>
                                        </div>              
                                    </div>
                                    <a class="nav-link mt-3 mb-2" href="/discussionthread"><h4 class="card-title">{{ post.title }}</h4></a>
                                    <div class="container-fluid px-0" style="display: inline; width: 100%;">
                                        {% for tag in post.tags %}
                                            <a class="btn btn-sm badge badge-custom me-1 mb-2">{{ tag }}</a>
                                        {% endfor %}
                                    </div>
                                </div>
                                <div class="card-body px-0 pt-0" style="flex: 1 1 50;">
                                    <div class="col-md-12 px-0 mb-3 mx-0 container-fluid" style="height: 20em; overflow: hidden;">
                                        <button type="button" class="btn btn-sm btn-interaction-custom rounded me-1 align-self-center" style="position: absolute; top: 140px; right: 10px;"><i class="bi bi-heart-fill"></i></button>
                                        <img src="{{ url_for('static', path=post.img) }}" class="img-fluid" alt="Post Image">
                                    </div>
                                    <div class="container-fluid px-4" style="width: 100%;">
                                        {% if post.desc|length > 60 %}
                                            <p class="card-text mb-3">{{ post.desc[0:60] }}...</p>
                                        {% else %}
                                            <p class="card-text mb-3">{{ post.desc }}</p>
                                        {% endif %}
                                    </div>
                                    <div class="container-fluid px-4"  style="width: 100%;">
                                        <button type="button" class="btn btn-sm btn-upvote-custom rounded-pill me-2 align-self-center" style="display: inline; font-family: var(--primary-font-family); font-weight: var(--font-weight-semi-bold); font-optical-sizing: auto;">
                                            <i class="bi bi-hand-thumbs-up-fill"></i>&nbsp;&nbsp;{{ post.likes }}
                                        </button>
                                        <button type="button" class="btn btn-sm btn-downvote-custom rounded-pill me-2 align-self-center" style="display: inline; font-family: var(--primary-font-family); font-weight: var(--font-weight-semi-bold); font-optical-sizing: auto;">
                                            <i class="bi bi-hand-thumbs-down-fill"></i>&nbsp;&nbsp;{{ post.dislikes }}
                                        </button>
                                        <button type="button" class="btn btn-sm btn-comment-custom rounded-pill me-2 align-self-center" style="display: inline; font-family: var(--primary-font-family); font-weight: var(--font-weight-semi-bold); font-optical-sizing: auto;">
                                            <i class="bi bi-chat-square-fill"></i>&nbsp;&nbsp;{{ post.comments }}
                                        </button>
                                        <button type="button" class="btn btn-sm btn-share-custom rounded-pill me-2 align-self-center" style="display: inline; font-family: var(--primary-font-family); font-weight: var(--font-weight-semi-bold); font-optical-sizing: auto;">
                                            <i class="bi bi-share-fill"></i>&nbsp;&nbsp;Share
                                        </button>              
                                    </div>
                                </div>
                                <!-- <a class="btn btn-sm btn-interaction-custom ms-5 me-1 text-light align-self-center" style="flex: 1 1 10;" href="#"><i class="bi bi-heart-fill"></i></a> -->
                                <!-- <button type="button" class="btn btn-sm btn-interaction-custom rounded me-1 align-self-center" style="flex: 1 1 10;"><i class="bi bi-heart-fill"></i></button> -->
                            </div>
                        </div>
                    </div>
                    <!-- </a> -->
                    {% if not loop.last %}
                        <hr class="mx-3 mt-2 mb-2" style="border: 1px solid var(--secondary-light);">
                    {% endif %}
                {% endif %}
            {% endfor %}
        </div>
    </div>
{% endblock %}